<odoo>
  <template id="maya_students.notification_cancellation_teacher_task">
    
    <t t-set="priority_map" t-value="{
        '3': {'icon': 'ðŸ”´', 'label': 'CrÃ­tica'},
        '2': {'icon': 'ðŸŸ ', 'label': 'Alta'},
        '1': {'icon': 'ðŸ”µ', 'label': 'Media'},
        '0': {'icon': 'ðŸŸ¢', 'label': 'Baja'}
      }"/>

    <t t-if="notifications">
      <t t-foreach="notifications" t-as="n">
        <t t-set="p_info" t-value="priority_map.get(n.priority, {'icon': 'âšªï¸', 'label': 'Indefinida'})"/>

        <table role="presentation" style="
            border-collapse: collapse; 
            width: 80%; 
            margin-top: 15px;
            margin-bottom: 15px; 
            margin-left: auto; 
            margin-right: auto; 
            border: 1px solid #ccc; font-size: 13px;">
          <tr>
            <td style="background-color: #f2f2f2; padding: 10px 12px; font-weight: bold; font-size: 14px; border-bottom: 1px solid #ccc;">
              <span style="font-size: 0.9rem"
                  t-att-title="'Prioridad: %s' % p_info['label']">
                <t t-esc="p_info['icon']"/>
              </span>
              <span style="margin-left: 8px; font-weight: bold; font-size: 1.1em; vertical-align: middle;">
                <t t-esc="n.summary"/>
              </span>
            </td>
          </tr>
          <tr>
            <td colspan="2" style="padding-top: 8px;">
              <p style="font-size: 1em; margin: 0px 0px 8px 0px; margin-left: 10px;">
                <t t-esc="n.body"/>
              </p>
            </td>
          </tr>
          <t t-if="n.link_objects">
            <tr>
              <td colspan="2" style="
                padding-top: 8px; 
                padding-bottom: 8px; 
                padding-left: 8px; 
                border-top: 1px dashed #cccccc; 
                margin-top: 12px;">
                <t t-foreach="n.link_objects" t-as="link_obj">
                  <t t-set="link_number" t-value="link_obj_index + 1"/>
                  
                  <a t-attf-href="/web#id=12&amp;model=moldededede}"
                      t-att-title="'Ir al Caso %s' % link_number"
                      style="
                        display: inline-block; 
                        background-color: #e9ecef; 
                        color: #495057; 
                        padding: 5px 10px; 
                        border-radius: 12px; 
                        text-decoration: none; 
                        margin: 2px 4px 2px 0; 
                        font-size: 0.9em;">
                      Caso <t t-esc="link_number"/>
                      <span style="margin-right: 3px; vertical-align: middle;">ðŸ”—</span>
                  </a>
                </t>
              </td>
            </tr>
          </t>
        
        </table>
      </t>
    </t>

    <table role="presentation" 
           style="width: 70%; 
                  margin-left: 20%; 
                  margin-right: 10%; 
                  border: 1px solid #ccc; 
                  border-collapse: collapse;">
      <tr>
        <td style="
          background-color: #ebbbb3ff; 
          padding: 5px 10px; ">
        <strong style="letter-spacing: 0.02em; font-weight: 400;">ATENCION:</strong>
        Recuerda que es muy importante realizar las llamadas en el dÃ­a de hoy para poder hacer un seguimiento ajustado del protocolo de bajas.

        </td>
      </tr>
    </table>
  </template>
</odoo>